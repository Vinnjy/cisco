# cisco
## Базовое ознакомление

[Терминология](#title0)

[Практическое задание 1: ICMP симуляция](#title1)

[Практическое задание 2: DHCP, DNS, WEB server](#title2)

[Практическое задание 3: Статическая маршрутизация](#title3)

### <a id="title0">Терминология</a>

##### Для начала пройдёся по "панели устройств" в cisco packet tracer.

<img width="162" height="91" alt="image" src="https://github.com/user-attachments/assets/a7ca9f67-61af-45a7-99b7-4a47040cb1f0" />  Рис.1

На рис.1 изображены "конечные" и "промежуточные устройства", а также "линии связи" (сетевые среды/среда передачи данных).

<img width="491" height="91" alt="image" src="https://github.com/user-attachments/assets/48ff5b6f-ed20-43af-b891-fbb202a966fa" />  Рис.2

На рис.2 изображены в верхнем левом углу значок молнии - среда передача данных или кабеля (более простым языком). 
В данных практических работах будем использовать прямой кабель (чёрный провод) и кроссовер (рядом с чёрным провод, выглядит, как пунктир).

* "Прямой" используется для подключения устройств разного типа (конечные и промежуточные).
* "Кросссовер" для подключения устройтсв одинакового типа (конечное и конечное, промежуточное и промежуточное).

<img width="612" height="83" alt="image" src="https://github.com/user-attachments/assets/65ff05b1-8224-4b0c-b0a9-05a1b778b142" />  Рис.3

На рис.3 изображены в верхнем нижним углу находятся конечные устройства.

* "Конечные устройства" - компьютер, сервер, принтер, смартфон. Они начинают запросы и ответы, когда хотят что-то узнать у других конечных устройств.

<img width="275" height="50" alt="image" src="https://github.com/user-attachments/assets/1fbe8af8-aefc-492f-85a6-44c487bd619b" />  Рис.4

<img width="460" height="57" alt="image" src="https://github.com/user-attachments/assets/7b51bc4d-9c3a-4906-85be-08ccb68f39f8" />  Рис.5

<img width="613" height="63" alt="image" src="https://github.com/user-attachments/assets/d0130078-9257-4b20-b3bb-d5d973d65cf1" />  Рис.5

На рис.4,5,6 изображены: 1 - хабы, 2 - коммутаторы, 3 - маршрутизаторы (по-английски роутер). Это всё промежуточные устройства.

* "Промежуточные устройства" - хаб, коммутатор, маршрутизатор, и т.д. Они управляют процессом передачи данных (направляют, фильтруют данные), занимаются обеспечением связи между сетями. Также могут обмениваться служебной информацией между собой.*

1. "Повторители" и "хабы" используются, когда устройства находятся на большом расстоянии. Причина в том, что в физической среде происходит постепенное затухание сигнала. Данные устройства распознают сигнал и повторяют в первоначальном виде. Обычно у витой пары (прямой) и кроссовер дистанция составляет 100 метров. Если захотим что-то передать, что первышает это расстояние, понадобится более качественные кабеля или промежуточные устройства.

  1.а.   "Повторитель" - 1 вход и 1 выход (2 порта). Соединяет 2 устройства.

  1.б.   "Хаб" или "концентратор" - "многопортовый повторитель". Концепция работы, как у повторителя, но получив сигнал, к примеру с порта 1, он отправит сигнал на другие порты, к которым подключены кабеля (другие устройства). В практических работах они будут.

<img width="458" height="327" alt="image" src="https://github.com/user-attachments/assets/a5fc08a4-9e3c-4705-b49b-7c876f6f3986" />

  > Так выглядит хаб.
  > У них есть одна проблема. Если на 2 порта и более прийдёт одновременно сигнал, то произойдёт коллизия (информация столкнётся, перемешается и восстановить нельзя будет).

  1.с.  "Повторители" и "хабы" работают на физическом уровне модели OSI.

```
Чтобы понимать последующую терминологию, нужно разобраться, что такое модели OSI.
Данная модель является эталонной для передачи данных по сети. Но практике используется модель TCP/IP.
```
OSI - 7 уровней.

<img width="600" height="418" alt="image" src="https://github.com/user-attachments/assets/852c852f-5e6e-4c23-bbc5-272c81a44034" />

1. На уровне представление, прикладном и сеансовом происхожит работа с данными. Здесь работают такие протоколы, как HTTP, DNS, DHCP, ...
  
2. На транспортном уровне работа с сегментами/датаграммами. Задача: обеспечить передачу данных между устройствами. Здесь данные разбиваются на сегменты (так как размер данных может быть очень большиим, их проще передавать по отдельности, маленькими кусочками). Сегмент состоит из заголовка и поля данных. На этом уровне добавляется дополнительная информация: логический порт получателя и источника. Часто используемые протоколы этого уровня TCP, UDP.
  
3. На сетевом урвоне работа с пакетами. Сегменты разбивются на пакеты (IP-пакеты). 
4. На канальном уровне с кадрами.
5. На физическом уровне 0 и 1.

Стрелка вниз означает инкапсуляцию данных, стрелка вверх декапсуляцию. На каждом уровне к данным добавляют служебная информация.

Приведём пример.
Допустим вы зашли в мессенджер и решили отправить сообщение своему другу.
1. На прикладном уровне, его ещё можно назвать уровнем приложения. Ввводим  текст, нажимаем кнопку отправить, здесь инициалиируется HTTP-запроса, то есть уровень взаимодействия сети и приложения.
2. На уровне представления обычно данные форматируется под другое устройство, чтобы могло работать с пришедшими данными. Здесь происходит кодирование/декодирование, шифрование/дешифрование,сжатие данные


TCP/IP - 4 уровня.

<img width="591" height="414" alt="image" src="https://github.com/user-attachments/assets/34916bd7-3553-45ac-baa6-dfa177846766" />

На практике в симуляторе cisco packet tracer, что происходит при передаче.
Продолжим разбираться в промежуточных устройствах.
* Коммутаторы и сетевые мосты работают на канальном уровне модели OSI.

* Сетевой мост - на физическом уровне модели OSI распознаёт сигнал, преобразует в кадры. К кадру добавят "заголовок" и "трейлер". Сетевой мост высчитывает "check sum"/контрольная суума и сранивает результат с "трейлером". 
Если не совпало, то кадр отбрасывется. Если совпало, то сетевой мост изучает "заголовок". В данном случае физический адрес получетеля.
У устройств в памяти хранится таблица - MAC-адрес (тот самый физический адрес) и порт (физический). Если в таблице MAC-адрес есть, то кадр передаётся на порт, если нет, то включается механизм поиска MAC-адреса. Тот самый ARP.
* ARP - делает широковещательный запрос (запрос всем устройтвам в локальной сети). В таких случаях используется IP-адрес (логический адрес устройства в сети). Т.е. поиск устройства по его IP.

*Коммутатор - многопортовый сетевой мост. Главное отлчиие, что данное устройство ищет физические адреса аппаратно, а мост программно.

* Маршрутизатор работают на сетевом уровне модели OSI. Пересылает пакеты по сети. Определяют путь, по которому будут проходить пакеты. Для этого используется статическая или динамическая маршрутизация (о ней чуть позже).

Вернёмся к заданию.

### <a id="title1">Практическое задание 1: ICMP симуляцияя</a>

1. Для начала нужно постротить схему сети.
<img width="841" height="669" alt="image" src="https://github.com/user-attachments/assets/04bbf351-8a71-4df4-9bc1-6949383814fa"/>

3. Зададим IP-configuration.
<img width="639" height="569" alt="image" src="https://github.com/user-attachments/assets/f0ccd6ea-d4ab-4079-a065-e3c6005ba02b" />
<img width="639" height="569" alt="image" src="https://github.com/user-attachments/assets/bfdb2d1c-2063-4e6b-b9ff-418d09b688e6" />

Маска подсети настроиться автоматически.
<img width="639" height="569" alt="image" src="https://github.com/user-attachments/assets/ab96edaf-4d66-4c74-99d7-5e491af13bd0" />
<img width="639" height="569" alt="image" src="https://github.com/user-attachments/assets/d732448d-87a2-427c-8c69-73c2dafce8db" />
<img width="639" height="569" alt="image" src="https://github.com/user-attachments/assets/cc93ca8c-c192-43e8-bbef-ad5b7fb3dad0" />
<img width="639" height="569" alt="image" src="https://github.com/user-attachments/assets/c9d55ee7-ca07-4cc8-acc2-9251e571bd86" />

Немного подробнее про IP
```
В данном задании используем IPv4. Адрес состоит из 32 бит = 4 байта. Принято говорить, что 4 октета, 1-ый октет слева и так далее.
<img width="981" height="623" alt="image" src="https://github.com/user-attachments/assets/1a76e81f-b43f-409a-a012-87ce6d76aba0" />
Раньше использовалось деление на классы, но вскоре их отменили из-за большое количества пользователей в интернете, на смену пришла CIDR.
класс А - отвечал за большие сети.
класс B - за средние сети.
класс С - за маленькие сети.
Класс D - за мульикаствещание.
Класс E - для экспериментальных целей.

Про маски кратко.
Маска подсети помогают маршрутизатору определить как и куда передавать пакет.
Также по маске можно определить, сколько битов отдано для сети, а сколько для хостов. Например, /24 - 255.255.255.0 говорит о том, что 24 бита отвечают за сеть, а 8 за хосты. 2^8=256 адресов для хостов.
```
4. Сделаем ICMP-запрос с 192.168.1.1 на 192.168.1.4.
5. Для этого нажмём на режим симуляции.
<img width="841" height="658" alt="image" src="https://github.com/user-attachments/assets/beaa4eff-29f8-483d-97f1-6396275e6c07" />
6. Нажмём "Edit filters". Оставим только ICMP и ARP. Когда уберёте все галочки, кликнете по панели, где схема.
<img width="966" height="658" alt="image" src="https://github.com/user-attachments/assets/9d343b79-fb1d-4800-a634-283ca52cc368" />
7. Нажимаем на comp1, "Command Prompt", пишем ping 192.168.1.4.
<img width="1149" height="658" alt="image" src="https://github.com/user-attachments/assets/21942035-478f-4a40-99b8-49769ae16fac" />
8. Как мы видим, у нас сформировался ARP-запрос и ICMP.
...Рассмотрим ARP
<img width="520" height="558" alt="image" src="https://github.com/user-attachments/assets/25519e3a-9794-4f30-bc11-ce357ebd887f" />
> Уровень 2: заголовок Ethernet II 0009.7C55.8245 >> FFFFFFFFFFFF Пакет ARP, IP-адрес источника: 192.168.1.1, IP-адрес назначения: 192.168.1.4
> 1. Процесс ARP формирует запрос на целевой IP-адрес.
> 2. Устройство инкапсулирует PDU в кадр Ethernet.




   

